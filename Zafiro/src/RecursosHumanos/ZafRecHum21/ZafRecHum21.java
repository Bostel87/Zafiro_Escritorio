package RecursosHumanos.ZafRecHum21;

import Librerias.ZafParSis.ZafParSis;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;

/**
 * Pantalla de Mantenimiento para Horarios de Trabajo.
 * @author Roberto Flores
 * Guayaquil 06/09/2011
 */
public class ZafRecHum21 extends javax.swing.JInternalFrame {

    private final String strVer = " v 1.0 ";                      //Versión de clase
    private ZafRecHum21Bean zafRecHum21Bean;                      //Bean manejador de éste JInternalFrame

    /** Creates new form ZafRecHum21 */
    public ZafRecHum21(ZafParSis obj) {
        try {
            zafRecHum21Bean = new ZafRecHum21Bean(this, obj);
            initComponents();
            setTitle(zafRecHum21Bean.getZafParSis().getNombreMenu() + strVer);
            zafRecHum21Bean.initTooBar(this);
            panBar.add(zafRecHum21Bean.getTooBar());
            zafRecHum21Bean.agregarDocLis();
        } catch (Exception ex) {
            Logger.getLogger(ZafRecHum21.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
   
    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panFrm = new javax.swing.JPanel();
        lblTit = new javax.swing.JLabel();
        tabFrm = new javax.swing.JTabbedPane();
        panGen = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        lblCodCom = new javax.swing.JLabel();
        lblNomHor = new javax.swing.JLabel();
        txtCodCar = new javax.swing.JTextField();
        butCarLab = new javax.swing.JButton();
        txtNomCar = new javax.swing.JTextField();
        jPanel6 = new javax.swing.JPanel();
        txtCoComSec = new javax.swing.JTextField();
        txtComSecNom = new javax.swing.JTextField();
        butComSec = new javax.swing.JButton();
        lblEmp1 = new javax.swing.JLabel();
        lblEmp2 = new javax.swing.JLabel();
        txtCodComSec = new javax.swing.JTextField();
        lblEmp3 = new javax.swing.JLabel();
        txtNomCarComSec = new javax.swing.JTextField();
        lblEmp4 = new javax.swing.JLabel();
        txtMinSec = new javax.swing.JTextField();
        jPanel2 = new javax.swing.JPanel();
        panGenTotLbl = new javax.swing.JPanel();
        lblObs1 = new javax.swing.JLabel();
        panGenTotObs = new javax.swing.JPanel();
        spnObs1 = new javax.swing.JScrollPane();
        txaObs = new javax.swing.JTextArea();
        panBar = new javax.swing.JPanel();

        setClosable(true);
        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setIconifiable(true);
        setMaximizable(true);
        setResizable(true);
        setMinimumSize(new java.awt.Dimension(600, 400));
        setPreferredSize(new java.awt.Dimension(600, 400));
        addInternalFrameListener(new javax.swing.event.InternalFrameListener() {
            public void internalFrameActivated(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameClosed(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameClosing(javax.swing.event.InternalFrameEvent evt) {
                exitForm(evt);
            }
            public void internalFrameDeactivated(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameDeiconified(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameIconified(javax.swing.event.InternalFrameEvent evt) {
            }
            public void internalFrameOpened(javax.swing.event.InternalFrameEvent evt) {
            }
        });

        panFrm.setLayout(new java.awt.BorderLayout());

        lblTit.setFont(new java.awt.Font("SansSerif", 1, 14)); // NOI18N
        lblTit.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblTit.setText("Cargos Laborales");
        panFrm.add(lblTit, java.awt.BorderLayout.NORTH);

        panGen.setLayout(new java.awt.BorderLayout());

        jPanel1.setPreferredSize(new java.awt.Dimension(0, 90));
        jPanel1.setLayout(null);

        lblCodCom.setText("Código:");
        jPanel1.add(lblCodCom);
        lblCodCom.setBounds(4, 30, 100, 20);

        lblNomHor.setText("Nombre:");
        jPanel1.add(lblNomHor);
        lblNomHor.setBounds(4, 55, 90, 20);

        txtCodCar.setBackground(zafRecHum21Bean.getZafParSis().getColorCamposSistema());
        txtCodCar.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        txtCodCar.getDocument().addDocumentListener(zafRecHum21Bean.getDocLis());
        txtCodCar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodCarActionPerformed(evt);
            }
        });
        jPanel1.add(txtCodCar);
        txtCodCar.setBounds(140, 30, 100, 20);

        butCarLab.setText("...");
        butCarLab.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butCarLabActionPerformed(evt);
            }
        });
        jPanel1.add(butCarLab);
        butCarLab.setBounds(240, 30, 20, 20);

        txtNomCar.setBackground(zafRecHum21Bean.getZafParSis().getColorCamposObligatorios());
        txtNomCar.getDocument().addDocumentListener(zafRecHum21Bean.getDocLis());
        txtNomCar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtNomCarActionPerformed(evt);
            }
        });
        jPanel1.add(txtNomCar);
        txtNomCar.setBounds(140, 55, 280, 20);

        panGen.add(jPanel1, java.awt.BorderLayout.PAGE_START);

        jPanel6.setBorder(javax.swing.BorderFactory.createTitledBorder("Comisiones Sectoriales"));
        jPanel6.setLayout(null);

        txtCoComSec.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCoComSecActionPerformed(evt);
            }
        });
        jPanel6.add(txtCoComSec);
        txtCoComSec.setBounds(140, 37, 70, 20);
        jPanel6.add(txtComSecNom);
        txtComSecNom.setBounds(210, 37, 210, 20);

        butComSec.setText("...");
        butComSec.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butComSecActionPerformed(evt);
            }
        });
        jPanel6.add(butComSec);
        butComSec.setBounds(420, 37, 20, 20);

        lblEmp1.setText("Comisión:");
        jPanel6.add(lblEmp1);
        lblEmp1.setBounds(20, 37, 70, 20);

        lblEmp2.setText("Código:");
        jPanel6.add(lblEmp2);
        lblEmp2.setBounds(20, 62, 70, 20);

        txtCodComSec.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtCodComSecActionPerformed(evt);
            }
        });
        jPanel6.add(txtCodComSec);
        txtCodComSec.setBounds(140, 62, 130, 20);

        lblEmp3.setText("Nombre:");
        jPanel6.add(lblEmp3);
        lblEmp3.setBounds(20, 87, 70, 20);

        txtNomCarComSec.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtNomCarComSecActionPerformed(evt);
            }
        });
        jPanel6.add(txtNomCarComSec);
        txtNomCarComSec.setBounds(140, 87, 280, 20);

        lblEmp4.setText("Mínimo Sectorial:");
        jPanel6.add(lblEmp4);
        lblEmp4.setBounds(20, 112, 110, 20);

        txtMinSec.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtMinSecActionPerformed(evt);
            }
        });
        jPanel6.add(txtMinSec);
        txtMinSec.setBounds(140, 112, 130, 20);

        panGen.add(jPanel6, java.awt.BorderLayout.CENTER);

        jPanel2.setPreferredSize(new java.awt.Dimension(34, 70));
        jPanel2.setLayout(new java.awt.BorderLayout());

        panGenTotLbl.setPreferredSize(new java.awt.Dimension(100, 30));
        panGenTotLbl.setLayout(new java.awt.BorderLayout());

        lblObs1.setText("Observación:");
        lblObs1.setVerticalAlignment(javax.swing.SwingConstants.TOP);
        panGenTotLbl.add(lblObs1, java.awt.BorderLayout.CENTER);

        jPanel2.add(panGenTotLbl, java.awt.BorderLayout.WEST);

        panGenTotObs.setLayout(new java.awt.BorderLayout());

        txaObs.setLineWrap(true);
        spnObs1.setViewportView(txaObs);

        panGenTotObs.add(spnObs1, java.awt.BorderLayout.CENTER);

        jPanel2.add(panGenTotObs, java.awt.BorderLayout.CENTER);

        panGen.add(jPanel2, java.awt.BorderLayout.PAGE_END);

        tabFrm.addTab("General", panGen);

        panFrm.add(tabFrm, java.awt.BorderLayout.CENTER);

        panBar.setLayout(new java.awt.BorderLayout());
        panFrm.add(panBar, java.awt.BorderLayout.SOUTH);

        getContentPane().add(panFrm, java.awt.BorderLayout.CENTER);

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((screenSize.width-700)/2, (screenSize.height-450)/2, 700, 450);
    }// </editor-fold>//GEN-END:initComponents

    private void exitForm(javax.swing.event.InternalFrameEvent evt) {//GEN-FIRST:event_exitForm

        String strTit, strMsg;
        strTit="Mensaje del sistema Zafiro";
        strMsg="¿Está seguro que desea cerrar este programa?";
        if (javax.swing.JOptionPane.showConfirmDialog(this,strMsg,strTit,javax.swing.JOptionPane.YES_NO_OPTION,javax.swing.JOptionPane.QUESTION_MESSAGE)==javax.swing.JOptionPane.YES_OPTION)
        {
            dispose();
        }

    }//GEN-LAST:event_exitForm

    private void butCarLabActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butCarLabActionPerformed
        zafRecHum21Bean.mostrarVenCon();
}//GEN-LAST:event_butCarLabActionPerformed

    private void txtCodCarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodCarActionPerformed
        zafRecHum21Bean.getTooBar().consultar();
}//GEN-LAST:event_txtCodCarActionPerformed

    private void txtNomCarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtNomCarActionPerformed
        zafRecHum21Bean.getTooBar().consultar();
        zafRecHum21Bean.setBlnMod(false);
}//GEN-LAST:event_txtNomCarActionPerformed

    private void txtCoComSecActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCoComSecActionPerformed
        try {

            if(Integer.parseInt(txtCoComSec.getText())>0){
                    if(zafRecHum21Bean.blnEsCon){
                    zafRecHum21Bean.getTooBar().consultar();
                    }else{
                    zafRecHum21Bean.consultarComisionSectorial(Integer.parseInt(txtCoComSec.getText()));
                    }
            }else{
                String strTit = "Mensaje del sistema Zafiro";
                String strMen = "No se encontraron datos con los criterios de búsqueda.\nEspecifique otros criterios y vuelva a intentarlo";
                JOptionPane.showMessageDialog(this,strMen,strTit,JOptionPane.INFORMATION_MESSAGE);
            }
        } catch (Exception ex) {
            String strTit = "Mensaje del sistema Zafiro";
            String strMen = "No se encontraron datos con los criterios de búsqueda.\nEspecifique otros criterios y vuelva a intentarlo";
            JOptionPane.showMessageDialog(this,strMen,strTit,JOptionPane.INFORMATION_MESSAGE);
        }
}//GEN-LAST:event_txtCoComSecActionPerformed

    private void butComSecActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butComSecActionPerformed
        zafRecHum21Bean.mostrarVenConComSec();
}//GEN-LAST:event_butComSecActionPerformed

    private void txtCodComSecActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtCodComSecActionPerformed
        zafRecHum21Bean.getTooBar().consultar();
        zafRecHum21Bean.setBlnMod(false);
    }//GEN-LAST:event_txtCodComSecActionPerformed

    private void txtNomCarComSecActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtNomCarComSecActionPerformed
        zafRecHum21Bean.getTooBar().consultar();
        zafRecHum21Bean.setBlnMod(false);
    }//GEN-LAST:event_txtNomCarComSecActionPerformed

    private void txtMinSecActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtMinSecActionPerformed
        zafRecHum21Bean.getTooBar().consultar();
        zafRecHum21Bean.setBlnMod(false);
    }//GEN-LAST:event_txtMinSecActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    public javax.swing.JButton butCarLab;
    public javax.swing.JButton butComSec;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JLabel lblCodCom;
    private javax.swing.JLabel lblEmp1;
    private javax.swing.JLabel lblEmp2;
    private javax.swing.JLabel lblEmp3;
    private javax.swing.JLabel lblEmp4;
    private javax.swing.JLabel lblNomHor;
    private javax.swing.JLabel lblObs1;
    private javax.swing.JLabel lblTit;
    private javax.swing.JPanel panBar;
    private javax.swing.JPanel panFrm;
    private javax.swing.JPanel panGen;
    private javax.swing.JPanel panGenTotLbl;
    private javax.swing.JPanel panGenTotObs;
    private javax.swing.JScrollPane spnObs1;
    private javax.swing.JTabbedPane tabFrm;
    public javax.swing.JTextArea txaObs;
    public javax.swing.JTextField txtCoComSec;
    public javax.swing.JTextField txtCodCar;
    public javax.swing.JTextField txtCodComSec;
    public javax.swing.JTextField txtComSecNom;
    public javax.swing.JTextField txtMinSec;
    public javax.swing.JTextField txtNomCar;
    public javax.swing.JTextField txtNomCarComSec;
    // End of variables declaration//GEN-END:variables

}