/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * ZafCxC35_02.java
 *
 * Created on Nov 30, 2010, 11:18:24 AM
 */
  
package CxC.ZafCxC35;

import Librerias.ZafParSis.ZafParSis;
import Librerias.ZafUtil.ZafUtil;

/**
 *
 * @author jayapata
 */
public class ZafCxC35_02 extends javax.swing.JDialog {

   ZafParSis objZafParSis;
   ZafUtil objUti;
   private Librerias.ZafDate.ZafDatePicker txtFecDoc;
   private java.util.Date datFecAux;

   public boolean blnAcepta = false;
   public boolean blnEst=false;
   private String Str_RegSel="";
   
    /** Creates new form ZafCxC35_02 */
    public ZafCxC35_02(java.awt.Frame parent, boolean modal, ZafParSis objParsis ) {
        super(parent, modal);
        try{
          this.objZafParSis = (Librerias.ZafParSis.ZafParSis) objParsis.clone();

          initComponents();
          this.setTitle(""+objZafParSis.getNombreMenu() );
          lblTit.setText("SELECCIÃ“N DE FECHA PARA BUSQUEDA ");
          objUti = new ZafUtil();

        
            txtFecDoc = new Librerias.ZafDate.ZafDatePicker(((javax.swing.JFrame)this.getParent()),"d/m/y");
            txtFecDoc.setPreferredSize(new java.awt.Dimension(70, 20));
            panGen.add(txtFecDoc);
            txtFecDoc.setBounds(160, 30, 92, 20);

              datFecAux=objUti.getFechaServidor(objZafParSis.getStringConexion(), objZafParSis.getUsuarioBaseDatos(), objZafParSis.getClaveBaseDatos(), objZafParSis.getQueryFechaHoraBaseDatos());
                     java.util.Date dateObj =datFecAux;
                     java.util.Calendar calObj = java.util.Calendar.getInstance();
                     calObj.setTime(dateObj);
                     txtFecDoc.setText(calObj.get(java.util.Calendar.DAY_OF_MONTH),
                                          calObj.get(java.util.Calendar.MONTH)+1     ,
                                          calObj.get(java.util.Calendar.YEAR)        );


      }catch (CloneNotSupportedException e){  objUti.mostrarMsgErr_F1(this, e); }
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        lblTit = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        butAce = new javax.swing.JButton();
        panGen = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);

        lblTit.setText("jLabel1");
        jPanel1.add(lblTit);

        getContentPane().add(jPanel1, java.awt.BorderLayout.NORTH);

        jPanel3.setLayout(new java.awt.BorderLayout());

        butAce.setFont(new java.awt.Font("SansSerif", 0, 11));
        butAce.setText("Aceptar");
        butAce.setPreferredSize(new java.awt.Dimension(90, 23));
        butAce.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                butAceActionPerformed(evt);
            }
        });
        jPanel5.add(butAce);

        jPanel3.add(jPanel5, java.awt.BorderLayout.EAST);

        getContentPane().add(jPanel3, java.awt.BorderLayout.SOUTH);

        panGen.setLayout(null);

        jLabel1.setText("Fecha de busqueda:");
        panGen.add(jLabel1);
        jLabel1.setBounds(10, 30, 160, 20);

        getContentPane().add(panGen, java.awt.BorderLayout.CENTER);

        java.awt.Dimension screenSize = java.awt.Toolkit.getDefaultToolkit().getScreenSize();
        setBounds((screenSize.width-300)/2, (screenSize.height-200)/2, 300, 200);
    }// </editor-fold>//GEN-END:initComponents

    private void butAceActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_butAceActionPerformed
        // TODO add your handling code here:

        boolean a = true;
        if(a == true){  blnEst=true; salir(); }

        
    }//GEN-LAST:event_butAceActionPerformed

  public boolean acepta(){
        return blnEst;
    }

  
  public String GetCamSel(){
     return Str_RegSel;
  }


    /**
     * @param args the command line arguments
     */

    private void salir(){

        Str_RegSel = "'#" + txtFecDoc.getFecha("/", "y/m/d") + "#'";;
        
        blnAcepta = true;

        dispose();
    }



    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton butAce;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JLabel lblTit;
    private javax.swing.JPanel panGen;
    // End of variables declaration//GEN-END:variables

}
